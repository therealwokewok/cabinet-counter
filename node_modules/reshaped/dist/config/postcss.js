import path from "path";
import { fileURLToPath } from "url";
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);
const defaultThemeMediaCSSPath = path.resolve(__dirname, "../themes/reshaped/media.css");
// Using [plugin]: { ...options } format here because it's supported by the most frameworks
// - require('plugin') is not supported by Next
// - ['plugin', options] is not supported by Vite
export const config = {
    plugins: {
        "@csstools/postcss-global-data": {
            files: [defaultThemeMediaCSSPath],
        },
        "postcss-custom-media": {},
        cssnano: { preset: ["default", { calc: false }] },
    },
};
export const getConfig = (options) => {
    const { themeMediaCSSPath = defaultThemeMediaCSSPath } = options;
    return {
        plugins: {
            "@csstools/postcss-global-data": {
                files: [themeMediaCSSPath],
            },
            "postcss-custom-media": {},
            cssnano: { preset: ["default", { calc: false }] },
        },
    };
};
