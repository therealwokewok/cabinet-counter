"use client";
import { jsx as _jsx } from "react/jsx-runtime";
import Button from "../Button/index.js";
import { useToggleButtonGroup } from "../ToggleButtonGroup/index.js";
const ToggleButtonControlled = (props) => {
    const { variant = "outline", selectedColor, value, onChange, onClick, color: buttonColor, ...buttonProps } = props;
    const toggleButtonGroup = useToggleButtonGroup();
    const checked = (value ? toggleButtonGroup?.value?.includes(value) : undefined) ?? props.checked;
    const color = (checked && (selectedColor || toggleButtonGroup?.selectedColor)) ||
        buttonColor ||
        toggleButtonGroup?.color;
    const handleClick = (event) => {
        const changeArgs = { checked: !checked, value: value ?? "", event };
        onClick?.(event);
        if (toggleButtonGroup) {
            toggleButtonGroup?.onChange?.(changeArgs);
        }
        else {
            onChange?.(changeArgs);
        }
    };
    return (_jsx(Button, { ...buttonProps, color: color, variant: variant, onClick: handleClick, highlighted: checked, attributes: {
            ...buttonProps.attributes,
            "aria-pressed": checked,
            tabIndex: toggleButtonGroup?.value?.length ? (checked ? 0 : -1) : undefined,
        } }));
};
ToggleButtonControlled.displayName = "ToggleButtonControlled";
export default ToggleButtonControlled;
