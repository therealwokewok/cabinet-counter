"use client";
import { jsx as _jsx } from "react/jsx-runtime";
import React from "react";
import SliderControlled from "./SliderControlled.js";
const normalizeValue = (value, min, max) => Math.min(Math.max(value, min), max);
const SliderUncontrolled = (props) => {
    const { min, max, onChange, range } = props;
    const defaultMinValue = ("defaultMinValue" in props && props.defaultMinValue !== undefined && props.defaultMinValue) ||
        ("defaultValue" in props && props.defaultValue !== undefined && props.defaultValue) ||
        min;
    const defaultMaxValue = ("defaultMaxValue" in props && props.defaultMaxValue !== undefined && props.defaultMaxValue) ||
        ("defaultValue" in props && props.defaultValue !== undefined && props.defaultValue) ||
        (range ? max : min);
    const [minValue, setMinValue] = React.useState(normalizeValue(defaultMinValue, min, max));
    const [maxValue, setMaxValue] = React.useState(normalizeValue(defaultMaxValue, min, max));
    const handleSingleChange = (args) => {
        if (range)
            return;
        setMaxValue(args.value);
        onChange?.(args);
    };
    const handleRangeChange = (args) => {
        if (!range)
            return;
        setMinValue(args.minValue);
        setMaxValue(args.maxValue);
        onChange?.(args);
    };
    if (range) {
        return (_jsx(SliderControlled, { ...props, min: min, max: max, minValue: minValue, maxValue: maxValue, defaultMinValue: undefined, defaultMaxValue: undefined, onChange: handleRangeChange }));
    }
    return (_jsx(SliderControlled, { ...props, min: min, max: max, value: maxValue, defaultValue: undefined, onChange: handleSingleChange }));
};
SliderUncontrolled.displayName = "SliderUncontrolled";
export default SliderUncontrolled;
